<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Admin Panel - E-Waste Portal</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
<style>
body {
  background: #f4f9f7;
  color: #000;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}
.container-section { margin-top: 2rem; }
.card { border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.1); margin-bottom: 2rem; }
.card-header { background: #28a745; color: #fff; font-weight: bold; font-size: 1.2rem; }
footer { text-align: center; padding: 12px; margin-top: auto; background: #fff; border-top: 1px solid #ddd; font-size: 0.9rem; color: #666; }
.search-input { max-width: 300px; margin-bottom: 10px; }
</style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark" style="background-color:#28a745;">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="index.html">Admin Panel</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto align-items-center">
        <li class="nav-item"><a class="nav-link text-danger" href="login.html">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container container-section animate_animated animate_fadeInUp" id="complaints">
  <div class="d-flex justify-content-between mb-2">
    <h4>User Complaints</h4>
    <select id="filterStatus" class="form-select w-auto">
      <option value="all">All</option>
      <option value="Pending">Pending</option>
      <option value="Resolved">Resolved</option>
    </select>
  </div>
  <div class="card">
    <div class="card-body">
      <table class="table table-bordered table-hover" id="complaintTable">
        <thead class="table-success">
          <tr>
            <th>ID</th>
            <th>User</th>
            <th>Complaint</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>001</td>
            <td>Rahul</td>
            <td>Pickup delayed</td>
            <td><span class="badge bg-warning">Pending</span></td>
            <td><button class="btn btn-sm btn-success toggle-status">Resolve</button></td>
          </tr>
          <tr>
            <td>002</td>
            <td>Anjali</td>
            <td>App not loading</td>
            <td><span class="badge bg-success">Resolved</span></td>
            <td><button class="btn btn-sm btn-secondary" disabled>Done</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="container container-section animate_animated animate_fadeInUp" id="reports">
  <div class="d-flex justify-content-between mb-2">
    <h4>E-Waste Reports</h4>
    <input type="text" id="reportSearch" class="form-control search-input" placeholder="Search reports...">
  </div>
  <div class="card">
    <div class="card-body">
      <table class="table table-bordered table-hover" id="reportTable">
        <thead class="table-success">
          <tr>
            <th>Report ID</th>
            <th>User</th>
            <th>Item</th>
            <th>Quantity</th>
            <th>Date</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>R101</td>
            <td>Mohit</td>
            <td>Old Laptop</td>
            <td>2</td>
            <td>2025-09-01</td>
            <td><span class="badge bg-info">In Progress</span></td>
          </tr>
          <tr>
            <td>R102</td>
            <td>Neha</td>
            <td>Mobile Phones</td>
            <td>5</td>
            <td>2025-08-30</td>
            <td><span class="badge bg-success">Completed</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<footer>&copy; 2025 E-Waste Portal | Admin Dashboard</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {

  function resolveComplaint(btn) {
    const row = btn.closest('tr');
    const badge = row.querySelector('span.badge');
    badge.textContent = 'Resolved';
    badge.classList.replace('bg-warning','bg-success');
    btn.textContent = 'Done';
    btn.classList.replace('btn-success','btn-secondary');
    btn.disabled = true;

    // Add to reports
    const user = row.children[1].textContent;
    const complaint = row.children[2].textContent;
    const date = new Date().toISOString().split('T')[0];
    const reportTable = document.getElementById('reportTable').querySelector('tbody');
    const newReportId = 'R' + (reportTable.children.length + 101);
    const newRow = document.createElement('tr');
    newRow.innerHTML = `
      <td>${newReportId}</td>
      <td>${user}</td>
      <td>${complaint}</td>
      <td>1</td>
      <td>${date}</td>
      <td><span class="badge bg-info">In Progress</span></td>
    `;
    reportTable.appendChild(newRow);
  }

  // Attach event listeners
  document.querySelectorAll('.toggle-status').forEach(btn => {
    btn.addEventListener('click', () => resolveComplaint(btn));
  });

  // Filter complaints
  document.getElementById('filterStatus').addEventListener('change', () => {
    const value = document.getElementById('filterStatus').value;
    document.querySelectorAll('#complaintTable tbody tr').forEach(row => {
      const status = row.querySelector('span.badge').textContent;
      row.style.display = (value==='all' || status===value) ? '' : 'none';
    });
  });

  // Search reports
  document.getElementById('reportSearch').addEventListener('input', () => {
    const filter = document.getElementById('reportSearch').value.toLowerCase();
    document.querySelectorAll('#reportTable tbody tr').forEach(row => {
      row.style.display = Array.from(row.cells).some(cell => cell.textContent.toLowerCase().includes(filter)) ? '' : 'none';
    });
  });

});
</script>
</body>
</html> 